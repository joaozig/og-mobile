<ion-view view-title="Financeiro">
  <ion-content class="has-header">
  	<div class="bar bar-calm item-input-inset" style="display:flex;justify-content:center;align-items:center;">
  		<button class="button icon-left ion-arrow-left-a" ng-click="ctrl.prevDate()"></button>
  		&nbsp;&nbsp;&nbsp;&nbsp;
  		<b>{{ctrl.formatDate(ctrl.initialDate)}} - {{ctrl.formatDate(ctrl.finalDate)}}</b>
  		&nbsp;&nbsp;&nbsp;&nbsp;
  		<button class="button icon-left ion-arrow-right-a" ng-click="ctrl.nextDate()"></button>
  	</div>
		<div class="bar bar-stable item-input-inset" ng-hide="!ctrl.hideLoadingSpinner">
		  <label class="item-input-wrapper">
		    <i class="icon ion-search placeholder-icon"></i>
		    <input type="text" placeholder="Pesquisar" ng-model="pesquisar">
		  </label>
    </div>
  	<div style="margin-top: 15px;display:flex;justify-content:center;align-items:center;" ng-hide="ctrl.hideLoadingSpinner">
			<ion-spinner></ion-spinner>
  	</div>
  	<div class="list" ng-hide="!ctrl.hideLoadingSpinner">
			<div ng-repeat="type in ctrl.types" ng-init="typeIndex = $index">
        <ion-item ng-click="ctrl.toggleGroup(typeIndex)"
                  class="ng-class: ctrl.typeClass(typeIndex)">
            <i class="icon" ng-class="ctrl.shownGroup[typeIndex] ? 'ion-arrow-down-c' : 'ion-arrow-right-c'"></i>
          &nbsp;
          <b>{{type.type}}</b>
          <span style="float: right;">
      			{{type.bets.length}}
    			</span>
        </ion-item>
        <ion-item class="item-game"
                  ng-repeat="bet in type.bets | filter: pesquisar"
                  ng-show="ctrl.shownGroup[typeIndex]">

					<div style="float: left">
						<span><b>{{bet.name}}</b></span><br>
						<span style="font-size: 12px">{{bet.date}}, {{bet.hour}}</span><br>
						<span style="font-size: 11px">{{bet.hash}}</span>
					</div>
					<div style="float: right; text-align: right;">
						<span style="font-size: 12px">R$ {{bet.betAmount}} | <b>R$ {{bet.jackpot}}</b></span><br>
						<span style="font-size: 12px">Jogos: {{bet.quantityBets}} | Acertos: {{bet.hits}}</span>
					</div>
        </ion-item>
      </div>
  	</div>
  </ion-content>
</ion-view>